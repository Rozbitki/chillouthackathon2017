<!DOCTYPE html>
<html>
<head>
    <meta name="generator"
          content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <title>FindMe - Panel</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="style/style.css" />
    <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed|Righteous" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/consume.js"></script>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="50">
<!-- Navigation -->
<nav class="navbar navbar-fixed-top">
    <div class="container-fluid text-center">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">FindMe</a>
        </div>

        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li>
                    <a href="#">Mój profil</a>
                </li>
                <li>
                    <a href="#">Aktywne wydarzenia</a>
                </li>
                <li>
                    <a href="#section3">Szukaj wydarzenia</a>
                </li>

            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#">Wyloguj</a>
                </li>

            </ul>
</nav>


<div class="container-fluid">
    <div class="jumbotron" style="display: none;">
        <div class="row">
            <h1>Dodawanie ogłoszenia</h1>
            <form>
                <div class="form-group">
                    <label for="desc">Opis:</label>
                    <input type="text" class="form-control" id="desc">
                </div>
                <div class="form-group">
                    <label for="owner">Organizowane przez:</label>
                    <input type="text" class="form-control" id="owner">
                </div>
                <div class="form-group">
                    <label for="capacity">Ilość osób: </label>
                    <input type="text" class="form-control" id="owner">
                </div>
                <div class="form-group">
                    <label for="age">Przedział wiekowy:</label>
                    <select class="form-control" id="age">
                        <option>18-25</option>
                        <option>25-30</option>
                        <option>30-35</option>
                        <option>35-40</option>
                        <option>40-45</option>
                        <option>45-50</option>
                        <option>50+</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="exp">Stopień zaawansownia: </label>
                    <select class="form-control" id="exp">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="discipline">Dyscyplina:</label>
                    <input type="text" class="form-control" id="discipline">
                </div>
                <div class="form-group">
                    <label for="price">Cena:</label>
                    <input type="text" class="form-control" id="price">
                </div>
                <div class="form-group">
                    <label for="frequency">Częstotliwość:</label>
                    <select class="form-control" id="frequency">
                        <option>Codziennie</option>
                        <option>Raz tygodniowo</option>
                        <option>Kilka razy tygodniowo</option>
                        <option>Raz na miesiąc</option>
                        <option>Kilka razy na miesiąc</option>
                        <option>Rzadziej</option>
                        <option>Jednorazowo</option>
                    </select>
                </div>
            </form>

        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <div class="panel-group" id="accordion">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">
                            Sport</a>
                    </h4>
                </div>
                <div id="collapse1" class="panel-collapse collapse in">
                    <div class="panel-body"><ul class="list-group">
                        <li class="list-group-item"><a href="#">Koszykówka</a></li>
                        <li class="list-group-item"><a href="#">Fitness</a></li>
                        <li class="list-group-item"><a href="#">Football</a></li>
                    </ul></div>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">
                            Inne</a>
                    </h4>
                </div>
                <div id="collapse2" class="panel-collapse collapse">
                    <div class="panel-body"> <div class="panel-body"><ul class="list-group">
                        <li class="list-group-item"><a href="#">Planszówki</a></li>
                    </ul></div></div>
                </div>
            </div>
        </div>



    </div>
</div>

<div class ="row">

    <div class="col-md-2 " id="powiad">

        <ul class="list-group">
            <li class="list-group-item"><a href="#">Utworzył wydarzenia</a><span class="badge createEvent">0</span></li>
            <li class="list-group-item"><a href="#">Wziął udział</a><span class="badge beAtEvent">0</span></li>
            <li class="list-group-item"><a href="#">Aktywne wydarzenia</a> <span class="badge activeEvent">0</span></li>
        </ul>

    </div>
    <div class="col-md-10">

        <div id="content">
            <button type="button" id="addAdvertise" onclick="addAdvert()" class="btn btn-primary pull-right" aria-label="Left Align">Nowe Ogłoszenie</button>
            <div id="cards" class="panel panel-default col-lg-8 col-md-10 ">

            </div>

        </div>
    </div>
</div>

<div id="footer">

</div>
<script>
    var allData;
    $(document).ready(function() {
        $.ajax({
            url: "http://localhost:8080/api/advertisements",
            success: function(data) {
                allData=data;
                for(var i=0; i<data.length; i++){
                    $("#cards").append('<div  class="panel-heading"><h3 class="panel-title">Dyscyplina: '+data[i].sportDiscipline+'</h3></div><div class="panel-body">Opis:<br>'+data[i].description+' <span class=" pull-right"><button class"btn btn-default more" onclick="clickButton('+data[i].id+')">Więcej</button></span> </div><div id="advertisement-'+data[i].id+'" class="well well-sm" style="display: none;"><ul class="list-group"><li class="list-group-item">Organizator: '+data[i].owner.name+' '+data[i].owner.surname+'o</li><li class="list-group-item">Grupa wiekowa: '+data[i].ageGroup.ageGroup+'</li><li class="list-group-item">Termin: '+data[i].endTime+'</li><li class="list-group-item">Kwota wejściowa: '+data[i].price+'</li><li class="list-group-item">Iliość miejsc: '+data[i].capacity+'</li><li class="list-group-item">Częstotliwość: '+data[i].frequency+'</li></ul></div>');
                }
                $('.activeEvent').text(data.length);
            },
            error: function() {
            }

        });
    });
    function clickButton(id){
        $('#advertisement-'+id).toggle();
    }
    function addAdvert(){
        $('.jumbotron').show();
    }
</script>
</body>
</html>